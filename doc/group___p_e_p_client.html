<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Argus PEP client API: PEP client API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Argus PEP client API
   &#160;<span id="projectnumber">2.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PEP client API</div>  </div>
</div><!--header-->
<div class="contents">

<p>PEP client used to send authorization request to the PEP daemon and receive authorization response with decision back.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga4f16e342e83ca3db8268328949e95cf4"><td class="memItemLeft" align="right" valign="top">typedef struct pep_handle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a></td></tr>
<tr class="memdesc:ga4f16e342e83ca3db8268328949e95cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">PEP client <b>handle</b>.  <a href="#ga4f16e342e83ca3db8268328949e95cf4"></a><br/></td></tr>
<tr class="memitem:gad897f0d4e174c5663353093e9f89baea"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group___p_e_p_client.html#ga68c076cdb8a9174a88a71835c19a8938">pep_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#gad897f0d4e174c5663353093e9f89baea">pep_option_t</a></td></tr>
<tr class="memdesc:gad897f0d4e174c5663353093e9f89baea"><td class="mdescLeft">&#160;</td><td class="mdescRight">PEP client configuration options.  <a href="#gad897f0d4e174c5663353093e9f89baea"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga68c076cdb8a9174a88a71835c19a8938"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#ga68c076cdb8a9174a88a71835c19a8938">pep_option</a> { <br/>
&#160;&#160;<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a6c49e98854d7a3becf83514a758ae0f5">PEP_OPTION_LOG_LEVEL</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a9e34537cfdde4c5ce63a08b213bfeae6">PEP_OPTION_LOG_STDERR</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938ac3c7a99cb8c93c7fa58c58654c13b1d2">PEP_OPTION_LOG_HANDLER</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a39cc0ea8c9ce10200ad64e7d45283c29">PEP_OPTION_ENDPOINT_URL</a>, 
<br/>
&#160;&#160;<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a9f4159926463a4e931918427ecd1b64e">PEP_OPTION_ENDPOINT_SSL_VALIDATION</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a113d3eb2be3f614fcc3aed4679f52b46">PEP_OPTION_ENDPOINT_SERVER_CERT</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938af76d7696abb8fe9282b0ad62dd4bc068">PEP_OPTION_ENDPOINT_SERVER_CAPATH</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a8cabb15f956b68914cd3001040049636">PEP_OPTION_ENDPOINT_CLIENT_CERT</a>, 
<br/>
&#160;&#160;<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938ab0d8bbc94fe747c7c3712db2f8651502">PEP_OPTION_ENDPOINT_CLIENT_KEY</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a6d1b65d1abec3dcd68e98902bcf51920">PEP_OPTION_ENDPOINT_CLIENT_KEYPASSWORD</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a2a5b790ca1771f7cbbd7545f690c8d0a">PEP_OPTION_ENDPOINT_TIMEOUT</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a05e5a0c17f57f24b0b774ddc1824629b">PEP_OPTION_ENABLE_PIPS</a>, 
<br/>
&#160;&#160;<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a04d2a3b031d9f9250370b254a7a7fb76">PEP_OPTION_ENABLE_OBLIGATIONHANDLERS</a>, 
<a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a6aea6b41eaa107e2a2e14ff4bd9bbfea">PEP_OPTION_ENDPOINT_SSL_CIPHER_LIST</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga68c076cdb8a9174a88a71835c19a8938"><td class="mdescLeft">&#160;</td><td class="mdescRight">PEP client configuration options.  <a href="group___p_e_p_client.html#ga68c076cdb8a9174a88a71835c19a8938">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga124306357fb6c0c3042937a28e68fe2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#ga124306357fb6c0c3042937a28e68fe2f">pep_addobligationhandler</a> (<a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *pep, const <a class="el" href="group___obligation_handler.html#ga71f491fb55b55686ab3ad483a4bc4a93">pep_obligationhandler_t</a> *oh)</td></tr>
<tr class="memdesc:ga124306357fb6c0c3042937a28e68fe2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an Obligation Handler post-processor to the PEP client.  <a href="#ga124306357fb6c0c3042937a28e68fe2f"></a><br/></td></tr>
<tr class="memitem:gadc4f29131cc0496580fc91852c6f9b93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#gadc4f29131cc0496580fc91852c6f9b93">pep_addpip</a> (<a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *pep, const <a class="el" href="group___p_i_p.html#gada32a72f917f8361eedb19bb4690bde8">pep_pip_t</a> *pip)</td></tr>
<tr class="memdesc:gadc4f29131cc0496580fc91852c6f9b93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a PIP request pre-processor to the PEP client.  <a href="#gadc4f29131cc0496580fc91852c6f9b93"></a><br/></td></tr>
<tr class="memitem:ga27a6e8559b4d2759d72b31fc3064527f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#ga27a6e8559b4d2759d72b31fc3064527f">pep_authorize</a> (<a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *pep, <a class="el" href="group___x_a_c_m_l.html#gaac84829d17576c571cd47f66964fc041">xacml_request_t</a> **request, <a class="el" href="group___x_a_c_m_l.html#gae9efa98ca44c901033c092c21502a555">xacml_response_t</a> **response)</td></tr>
<tr class="memdesc:ga27a6e8559b4d2759d72b31fc3064527f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the XACML request to the PEP daemon and returns the XACML response.  <a href="#ga27a6e8559b4d2759d72b31fc3064527f"></a><br/></td></tr>
<tr class="memitem:gae679df01a78429727507872d76d3812f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#gae679df01a78429727507872d76d3812f">pep_destroy</a> (<a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *pep)</td></tr>
<tr class="memdesc:gae679df01a78429727507872d76d3812f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanups and destroys the PEP client.  <a href="#gae679df01a78429727507872d76d3812f"></a><br/></td></tr>
<tr class="memitem:ga34dfba1704217bb3cf88ab708e3c05d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#ga34dfba1704217bb3cf88ab708e3c05d2">pep_getid</a> (<a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *pep)</td></tr>
<tr class="memdesc:ga34dfba1704217bb3cf88ab708e3c05d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of the PEP handle.  <a href="#ga34dfba1704217bb3cf88ab708e3c05d2"></a><br/></td></tr>
<tr class="memitem:ga72f1a489c6c325dfde4bc391dc6a52db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#ga72f1a489c6c325dfde4bc391dc6a52db">pep_global_cleanup</a> (void)</td></tr>
<tr class="memdesc:ga72f1a489c6c325dfde4bc391dc6a52db"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>NOT THREAD SAFE</b>.  <a href="#ga72f1a489c6c325dfde4bc391dc6a52db"></a><br/></td></tr>
<tr class="memitem:gab7abdf42569ae99956c1a1031b64b8c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#gab7abdf42569ae99956c1a1031b64b8c3">pep_global_init</a> (void)</td></tr>
<tr class="memdesc:gab7abdf42569ae99956c1a1031b64b8c3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>NOT THREAD SAFE</b>.  <a href="#gab7abdf42569ae99956c1a1031b64b8c3"></a><br/></td></tr>
<tr class="memitem:gafb4ea12b710314c0f99f3864f3711fd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#gafb4ea12b710314c0f99f3864f3711fd2">pep_initialize</a> (void)</td></tr>
<tr class="memdesc:gafb4ea12b710314c0f99f3864f3711fd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and initializes a new PEP client <b>handle</b>.  <a href="#gafb4ea12b710314c0f99f3864f3711fd2"></a><br/></td></tr>
<tr class="memitem:ga518312b2b065b23ea8e0b2bedfd4c411"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411">pep_setoption</a> (<a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *pep, <a class="el" href="group___p_e_p_client.html#gad897f0d4e174c5663353093e9f89baea">pep_option_t</a> option,...)</td></tr>
<tr class="memdesc:ga518312b2b065b23ea8e0b2bedfd4c411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a PEP client configuration option.  <a href="#ga518312b2b065b23ea8e0b2bedfd4c411"></a><br/></td></tr>
<tr class="memitem:gad1882cccbf3d1ec9597ea5687227eb99"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___p_e_p_client.html#gad1882cccbf3d1ec9597ea5687227eb99">pep_version</a> (void)</td></tr>
<tr class="memdesc:gad1882cccbf3d1ec9597ea5687227eb99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a human readable string with the version number of the PEP client API and some of its important components (like libcurl version).  <a href="#gad1882cccbf3d1ec9597ea5687227eb99"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>PEP client used to send authorization request to the PEP daemon and receive authorization response with decision back. </p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga4f16e342e83ca3db8268328949e95cf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct pep_handle <a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PEP client <b>handle</b>. </p>

</div>
</div>
<a class="anchor" id="gad897f0d4e174c5663353093e9f89baea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group___p_e_p_client.html#ga68c076cdb8a9174a88a71835c19a8938">pep_option</a>  <a class="el" href="group___p_e_p_client.html#gad897f0d4e174c5663353093e9f89baea">pep_option_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PEP client configuration options. </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,option, ...) to set a configuration option. </dd></dl>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga68c076cdb8a9174a88a71835c19a8938"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___p_e_p_client.html#ga68c076cdb8a9174a88a71835c19a8938">pep_option</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PEP client configuration options. </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,option, ...) to set a configuration option. </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a6c49e98854d7a3becf83514a758ae0f5"></a>PEP_OPTION_LOG_LEVEL</em>&nbsp;</td><td>
<p>Set log level (default <a class="el" href="group___logging.html#ga4e35b181b6b468b8332547a4f5dc398c">PEP_LOGLEVEL_NONE</a>) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a9e34537cfdde4c5ce63a08b213bfeae6"></a>PEP_OPTION_LOG_STDERR</em>&nbsp;</td><td>
<p>Set log engine file descriptor: <code>stderr</code>, <code>stdout</code>, <code>NULL</code> (default <code>NULL</code>) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938ac3c7a99cb8c93c7fa58c58654c13b1d2"></a>PEP_OPTION_LOG_HANDLER</em>&nbsp;</td><td>
<p>Set the optional log handler callback function pointer (default <code>NULL</code>) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a39cc0ea8c9ce10200ad64e7d45283c29"></a>PEP_OPTION_ENDPOINT_URL</em>&nbsp;</td><td>
<p>Set the <b>mandatory</b> PEP daemon endpoint URL. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a9f4159926463a4e931918427ecd1b64e"></a>PEP_OPTION_ENDPOINT_SSL_VALIDATION</em>&nbsp;</td><td>
<p>Enable SSL validation: 0 or 1 (default 1) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a113d3eb2be3f614fcc3aed4679f52b46"></a>PEP_OPTION_ENDPOINT_SERVER_CERT</em>&nbsp;</td><td>
<p>PEP daemon server SSL certificate (PEM format): absolute filename. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938af76d7696abb8fe9282b0ad62dd4bc068"></a>PEP_OPTION_ENDPOINT_SERVER_CAPATH</em>&nbsp;</td><td>
<p>Directory holding CA certificates (hashed filenames in PEM format) to verify the PEP daemon: absolute directory name. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a8cabb15f956b68914cd3001040049636"></a>PEP_OPTION_ENDPOINT_CLIENT_CERT</em>&nbsp;</td><td>
<p>PEP client SSL certificate (PEM format) for client authN: absolute filename. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938ab0d8bbc94fe747c7c3712db2f8651502"></a>PEP_OPTION_ENDPOINT_CLIENT_KEY</em>&nbsp;</td><td>
<p>PEP client SSL private key (PEM format) for client authN: absolute filename. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a6d1b65d1abec3dcd68e98902bcf51920"></a>PEP_OPTION_ENDPOINT_CLIENT_KEYPASSWORD</em>&nbsp;</td><td>
<p>PEP client SSL private key password for client authN: string. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a2a5b790ca1771f7cbbd7545f690c8d0a"></a>PEP_OPTION_ENDPOINT_TIMEOUT</em>&nbsp;</td><td>
<p>Timeout for the connection to endpoint URL in second (default 30s) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a05e5a0c17f57f24b0b774ddc1824629b"></a>PEP_OPTION_ENABLE_PIPS</em>&nbsp;</td><td>
<p>Enable PIPs pre-processing: 0 or 1 (default 1) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a04d2a3b031d9f9250370b254a7a7fb76"></a>PEP_OPTION_ENABLE_OBLIGATIONHANDLERS</em>&nbsp;</td><td>
<p>Enable OHs post-processing: 0 or 1 (default 1) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga68c076cdb8a9174a88a71835c19a8938a6aea6b41eaa107e2a2e14ff4bd9bbfea"></a>PEP_OPTION_ENDPOINT_SSL_CIPHER_LIST</em>&nbsp;</td><td>
<p>PEP client list of ciphers to use for the SSL connection: string. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga124306357fb6c0c3042937a28e68fe2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> pep_addobligationhandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *&#160;</td>
          <td class="paramname"><em>pep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___obligation_handler.html#ga71f491fb55b55686ab3ad483a4bc4a93">pep_obligationhandler_t</a> *&#160;</td>
          <td class="paramname"><em>oh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an Obligation Handler post-processor to the PEP client. </p>
<p>The OH init() function is be called in this method.</p>
<p>See <a class="el" href="group___obligation_handler.html">Obligation Handler (OH)</a> and <a class="el" href="group___profiles_adapters.html">PIP and Obligation Handler Profile Adapters</a> for more info.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pep</td><td>pointer to the <b>handle</b> of the PEP client. </td></tr>
    <tr><td class="paramname">oh</td><td>pointer to the <a class="el" href="group___obligation_handler.html#ga71f491fb55b55686ab3ad483a4bc4a93">pep_obligationhandler_t</a> to add.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> PEP_OK on success or an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gadc4f29131cc0496580fc91852c6f9b93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> pep_addpip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *&#160;</td>
          <td class="paramname"><em>pep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___p_i_p.html#gada32a72f917f8361eedb19bb4690bde8">pep_pip_t</a> *&#160;</td>
          <td class="paramname"><em>pip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a PIP request pre-processor to the PEP client. </p>
<p>The PIP init() function is called in this method.</p>
<p>See <a class="el" href="group___p_i_p.html">Policy Information Point (PIP)</a> and <a class="el" href="group___profiles_adapters.html">PIP and Obligation Handler Profile Adapters</a> for more info.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pep</td><td>pointer to the <b>handle</b> of the PEP client. </td></tr>
    <tr><td class="paramname">pip</td><td>pointer to the <a class="el" href="group___p_i_p.html#gada32a72f917f8361eedb19bb4690bde8">pep_pip_t</a> to add.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> PEP_OK on success or an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga27a6e8559b4d2759d72b31fc3064527f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> pep_authorize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *&#160;</td>
          <td class="paramname"><em>pep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___x_a_c_m_l.html#gaac84829d17576c571cd47f66964fc041">xacml_request_t</a> **&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___x_a_c_m_l.html#gae9efa98ca44c901033c092c21502a555">xacml_response_t</a> **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the XACML request to the PEP daemon and returns the XACML response. </p>
<p>If some PIPs are present, they will be applied to the XACML request before submitting it to the PEPd. If some ObligationHandlers are present, they will be applied to the XACML response after the response is received from the PEPd.</p>
<p>After the call, the <code>request</code> parameter is the <b>effective</b> XACML request, as processed by the PEPd.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pep</td><td>pointer to the <b>handle</b> of the PEP client. </td></tr>
    <tr><td class="paramname">request</td><td>address of the pointer to the <a class="el" href="group___x_a_c_m_l.html#gaac84829d17576c571cd47f66964fc041">xacml_request_t</a> to send. </td></tr>
    <tr><td class="paramname">response</td><td>address of pointer to the <a class="el" href="group___x_a_c_m_l.html#gae9efa98ca44c901033c092c21502a555">xacml_response_t</a> received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> PEP_OK on success or an error code. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pep_client_example_8c-example.html#a12">pep_client_example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gae679df01a78429727507872d76d3812f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pep_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *&#160;</td>
          <td class="paramname"><em>pep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanups and destroys the PEP client. </p>
<p>Any uses of the <b>handle</b> after this function has been called are illegal.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pep</td><td>pointer to the <b>handle</b> of the PEP client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>none </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pep_client_example_8c-example.html#a15">pep_client_example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga34dfba1704217bb3cf88ab708e3c05d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pep_getid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *&#160;</td>
          <td class="paramname"><em>pep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the id of the PEP handle. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pep</td><td>pointer to the <b>handle</b> of the PEP client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>the id &gt;= 0 or a negative id on error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga72f1a489c6c325dfde4bc391dc6a52db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pep_global_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><b>NOT THREAD SAFE</b>. </p>
<p>You must not call it when any other thread in the program (i.e. a thread sharing the same memory) is running. This doesn't just mean no other thread that is using libcurl or the PEP client library.</p>
<p>Because this function wraps the libcurl curl_global_cleanup(), it calls functions of other libraries that are similarly thread unsafe, it could conflict with any other thread that uses these other libraries.</p>
<p>See the <b>libcurl(3)</b> man page for details of how to use these global functions. </p>

</div>
</div>
<a class="anchor" id="gab7abdf42569ae99956c1a1031b64b8c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> pep_global_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><b>NOT THREAD SAFE</b>. </p>
<p>You must not call it when any other thread in the program (i.e. a thread sharing the same memory) is running. This doesn't just mean no other thread that is using libcurl or the PEP client library.</p>
<p>Because this function wraps the libcurl curl_global_init(), it calls functions of other libraries that are similarly thread unsafe, it could conflict with any other thread that uses these other libraries.</p>
<p>See the <b>libcurl(3)</b> man page for details of how to use these global functions.</p>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> PEP_OK on success or an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gafb4ea12b710314c0f99f3864f3711fd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a>* pep_initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and initializes a new PEP client <b>handle</b>. </p>
<p>This function must be the first function to call, and it returns a PEP client handle that you must use as input to other PEP client functions.</p>
<dl class="section return"><dt>Returns:</dt><dd>the PEP client <b>handle</b> or null on error. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pep_client_example_8c-example.html#a1">pep_client_example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga518312b2b065b23ea8e0b2bedfd4c411"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> pep_setoption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p_e_p_client.html#ga4f16e342e83ca3db8268328949e95cf4">PEP</a> *&#160;</td>
          <td class="paramname"><em>pep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___p_e_p_client.html#gad897f0d4e174c5663353093e9f89baea">pep_option_t</a>&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a PEP client configuration option. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pep</td><td>pointer to the <b>handle</b> of the PEP client. </td></tr>
    <tr><td class="paramname">option</td><td>the PEP client option to set. </td></tr>
    <tr><td class="paramname">...</td><td>argument(s) for the PEP client option.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd><a class="el" href="group___error.html#gaa19c242e7476501a56c676af7da38ad4">pep_error_t</a> PEP_OK on success or an error code. </dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group___p_e_p_client.html#ga68c076cdb8a9174a88a71835c19a8938" title="PEP client configuration options.">pep_option</a> for available options.</dd></dl>
<p>Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a39cc0ea8c9ce10200ad64e7d45283c29">PEP_OPTION_ENDPOINT_URL</a> <code>const</code> <code>char</code> <code>*</code> argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// set the PEP daemon endpoint URL</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a39cc0ea8c9ce10200ad64e7d45283c29" title="Set the mandatory PEP daemon endpoint URL.">PEP_OPTION_ENDPOINT_URL</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;https://pepd.switch.ch:8154/authz&quot;</span>);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938af76d7696abb8fe9282b0ad62dd4bc068">PEP_OPTION_ENDPOINT_SERVER_CAPATH</a> <code>const</code> <code>char</code> * argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// set the PEP daemon server CA directory for SSL/TLS validation</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938af76d7696abb8fe9282b0ad62dd4bc068" title="Directory holding CA certificates (hashed filenames in PEM format) to verify the PEP daemon: absolute...">PEP_OPTION_ENDPOINT_SERVER_CAPATH</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;/etc/grid-security/certificates&quot;</span>);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a8cabb15f956b68914cd3001040049636">PEP_OPTION_ENDPOINT_CLIENT_CERT</a> <code>const</code> <code>char</code> * argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// set the PEP client certificate for SSL/TLS client authentication</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a8cabb15f956b68914cd3001040049636" title="PEP client SSL certificate (PEM format) for client authN: absolute filename.">PEP_OPTION_ENDPOINT_CLIENT_CERT</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;/tmp/x509up_u5000&quot;</span>);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938ab0d8bbc94fe747c7c3712db2f8651502">PEP_OPTION_ENDPOINT_CLIENT_KEY</a> <code>const</code> <code>char</code> * argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// set the PEP client private key for SSL/TLS client authentication</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938ab0d8bbc94fe747c7c3712db2f8651502" title="PEP client SSL private key (PEM format) for client authN: absolute filename.">PEP_OPTION_ENDPOINT_CLIENT_KEY</a>, (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;/tmp/x509up_u5000&quot;</span>);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a6c49e98854d7a3becf83514a758ae0f5">PEP_OPTION_LOG_LEVEL</a> <code>int</code> argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// set logging level to WARN (only ERROR + WARN messages shown)</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a6c49e98854d7a3becf83514a758ae0f5" title="Set log level (default PEP_LOGLEVEL_NONE)">PEP_OPTION_LOG_LEVEL</a>, (<span class="keywordtype">int</span>)<a class="code" href="group___logging.html#ga61dcfed233412edb806208014e882f88" title="Logs ERROR and WARN messages.">PEP_LOGLEVEL_WARN</a>);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a9e34537cfdde4c5ce63a08b213bfeae6">PEP_OPTION_LOG_STDERR</a> <code>FILE</code> <code>*</code> argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// set logging output to stderr</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a9e34537cfdde4c5ce63a08b213bfeae6" title="Set log engine file descriptor: stderr, stdout, NULL (default NULL)">PEP_OPTION_LOG_STDERR</a>, (FILE *)stdout);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938ac3c7a99cb8c93c7fa58c58654c13b1d2">PEP_OPTION_LOG_HANDLER</a> <a class="el" href="group___logging.html#ga72eeff50696b9dc7e44004ebb7e5ce58">pep_log_handler_callback</a> <code>*</code> argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// override default logging handler with own logging callback function</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938ac3c7a99cb8c93c7fa58c58654c13b1d2" title="Set the optional log handler callback function pointer (default NULL)">PEP_OPTION_LOG_HANDLER</a>, (<a class="code" href="group___logging.html#ga72eeff50696b9dc7e44004ebb7e5ce58" title="Optional log handler function callback prototype.">pep_log_handler_callback</a> *)my_logging_callback);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a05e5a0c17f57f24b0b774ddc1824629b">PEP_OPTION_ENABLE_PIPS</a> <code>int</code> (<em>FALSE</em> or <em>TRUE</em>) argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// disable PIPs processing</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a05e5a0c17f57f24b0b774ddc1824629b" title="Enable PIPs pre-processing: 0 or 1 (default 1)">PEP_OPTION_ENABLE_PIPS</a>, (<span class="keywordtype">int</span>)0);</div>
</div><!-- fragment --><p> Option <a class="el" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a04d2a3b031d9f9250370b254a7a7fb76">PEP_OPTION_ENABLE_OBLIGATIONHANDLERS</a> <code>int</code> (<em>FALSE</em> or <em>TRUE</em>) argument: </p>
<div class="fragment"><div class="line">     <span class="comment">// already enabled by default, only for example purpose</span></div>
<div class="line">     <a class="code" href="group___p_e_p_client.html#ga518312b2b065b23ea8e0b2bedfd4c411" title="Sets a PEP client configuration option.">pep_setoption</a>(pep,<a class="code" href="group___p_e_p_client.html#gga68c076cdb8a9174a88a71835c19a8938a04d2a3b031d9f9250370b254a7a7fb76" title="Enable OHs post-processing: 0 or 1 (default 1)">PEP_OPTION_ENABLE_OBLIGATIONHANDLERS</a>, (<span class="keywordtype">int</span>)1);</div>
</div><!-- fragment --> <dl><dt><b>Examples: </b></dt><dd><a class="el" href="pep_client_example_8c-example.html#a2">pep_client_example.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gad1882cccbf3d1ec9597ea5687227eb99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* pep_version </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a human readable string with the version number of the PEP client API and some of its important components (like libcurl version). </p>
<dl class="section return"><dt>Returns:</dt><dd>a null terminated string. e.g. "argus-pep-api-c/2.0.0 (libcurl/7.21.7 ...)" </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pep_client_example_8c-example.html#a0">pep_client_example.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 9 2013 12:52:56 for Argus PEP client API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.1
</small></address>
</body>
</html>
